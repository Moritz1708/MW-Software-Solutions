@inherits LayoutComponentBase

@using MW_Software_Solutions.Client.Shared.NavMenu
@inject NavigationManager navManager
<MudThemeProvider IsDarkMode="false"/>
<MudDialogProvider FullWidth="true"
                   MaxWidth="MaxWidth.ExtraSmall"
                   CloseButton="true"
                   DisableBackdropClick="true"
                   NoHeader="false"
                   Position="DialogPosition.TopCenter"
                   CloseOnEscapeKey="true" />
<MudSnackbarProvider />

<PageTitle>MW-Software-Solutions</PageTitle>
<MudLayout>
    <MudContainer Class="mt-10">
        <MudGrid>
            <MudItem xs="5" sm="5" md="3" lg="3" xl="3" xxl="3">
                <MudImage Fluid="true" Src="./pictures/OriginalonTransparent.png" Style="max-height: 60px"></MudImage>
            </MudItem>
            <MudItem xs="7" sm="7" md="9" lg="9" xl="9" xxl="9">
                <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
                    <MudText Align="Align.Right">
                        <MudIconButton Icon="@Icons.Material.Filled.Menu" OnClick="@(() => OpenDrawer(Anchor.Top))"/>
                    </MudText>
                    <MudDrawer @bind-Open="@_open" Width="100%" Anchor="@_anchor" Elevation="1" Variant="@DrawerVariant.Temporary">
                        <NavMenuContent/>
                    </MudDrawer>
                </MudHidden>
            </MudItem>
        </MudGrid>
        <hr/>
    </MudContainer>

    <MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
        <MudContainer Class="d-flex justify-content-center align-items-center">
            <NavMenuContent/>
        </MudContainer>
        <MudMainContent Class="pt-16 px-16 mb-5">
            @Body
        </MudMainContent>
    </MudHidden>
    
    <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
        <MudMainContent Class="pt-4 px-16 mb-5">
            @Body
        </MudMainContent>
    </MudHidden>
    
    <MudAppBar Bottom="true" Color="Color.Transparent" Fixed="true">
        <MudContainer Class="d-flex justify-content-center align-items-center">
            <MudText Class="m-3 cursor-pointer" Typo="Typo.body2">© Copyright 2023</MudText>
            <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/"))" Typo="Typo.body2">mw-software-solutions</MudText>
            <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Impressum"))" Typo="Typo.body2">Impressum</MudText>
            <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Datenschutz"))" Typo="Typo.body2">Datenschutz</MudText>
        </MudContainer>
    </MudAppBar>
</MudLayout>


@code {
    private MudTheme _theme = new();
    bool _drawerOpen = false;
    string IconClass = Icons.Material.Filled.Menu;
    private bool _open;
    private Anchor _anchor;
    void OpenDrawer(Anchor anchor)
    {
        _open = !_open;
        _anchor = anchor;
    }

}