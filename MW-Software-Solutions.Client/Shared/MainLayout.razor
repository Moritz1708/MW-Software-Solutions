@inherits LayoutComponentBase

@using MW_Software_Solutions.Client.Shared.NavMenu
@inject NavigationManager navManager

<MudThemeProvider IsDarkMode="false"/>
<MudDialogProvider FullWidth="true"
                   MaxWidth="MaxWidth.ExtraSmall"
                   CloseButton="true"
                   DisableBackdropClick="true"
                   NoHeader="false"
                   Position="DialogPosition.TopCenter"
                   CloseOnEscapeKey="true" />
<MudSnackbarProvider />

<PageTitle>MW-Software-Solutions</PageTitle>
<MudLayout >
    <MudContainer Class="mt-10">
        <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
            <MudContainer Class="">
                <MudGrid Class="">
                    <MudItem xs="10" Class="">
                        <MudText Class="" Align="Align.Start" Typo="Typo.h5">Hi, Visitor</MudText>
                        <MudText Class="fw-bold mt-1" Align="Align.Start" Typo="Typo.h5">WELCOME BACK!</MudText>
                    </MudItem>
                    
                    <MudItem xs="2" Class="">
                        <MudIconButton Class="mt-8" Variant="Variant.Outlined" DisableRipple="false" Icon="@Icons.Material.Rounded.Menu"></MudIconButton>
                    </MudItem>
                </MudGrid>
            </MudContainer>
        </MudHidden>
            
        <MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
            <MudGrid>
                <MudItem xs="5" sm="5" md="3" lg="3" xl="3" xxl="3">
                    <MudImage Fluid="true" Src="@(_darkMode ? "./pictures/WhiteonTransparent.png" : "./pictures/OriginalonTransparent.png")" Style="max-height: 60px"></MudImage>
                </MudItem>
                <MudSpacer></MudSpacer>
                <MudItem>
                    <MudSwitch @bind-Checked="_darkMode"
                               Size="Size.Large"
                               ThumbIcon="@(_darkMode ? Icons.Material.Filled.Nightlight : Icons.Material.Filled.WbSunny)"
                               ThumbIconColor="@(_darkMode ? Color.Dark : Color.Warning)">
                    </MudSwitch>
                </MudItem>
            </MudGrid>
        </MudHidden>
        
    </MudContainer>
    
    <MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
        <MudContainer Class="d-flex justify-content-center align-items-center">
            <NavMenuContent/>
        </MudContainer>
        <MudMainContent Class="pt-16 px-16 mb-5">
            @Body
        </MudMainContent>
    </MudHidden>
    
    <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
        <MudMainContent>
            @Body
        </MudMainContent>
    </MudHidden>
    
    <MudAppBar Bottom="true" Color="Color.Default" Fixed="true">
        <MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
            <MudContainer Class="d-flex justify-content-center align-items-center">
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/"))" Typo="Typo.body2">© Copyright 2023 - MW-Software-Solutions</MudText>
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Impressum"))" Typo="Typo.body2">Impressum</MudText>
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Datenschutz"))" Typo="Typo.body2">Datenschutz</MudText>
            </MudContainer>
        </MudHidden>
        <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
            <MudContainer Class="d-flex justify-content-center align-items-center">
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/"))" Typo="Typo.body2">© Copyright</MudText>
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Impressum"))" Typo="Typo.body2">Impressum</MudText>
                <MudText Class="m-3 cursor-pointer" @onclick="@(() => navManager.NavigateTo("/Datenschutz"))" Typo="Typo.body2">Datenschutz</MudText>
            </MudContainer>

        </MudHidden>
    </MudAppBar>
</MudLayout>


@code {
    private MudTheme _theme = new();
    private bool _darkMode;
    private bool _open;
    private Anchor _anchor;


    void OpenDrawer(Anchor anchor)
    {
        _open = !_open;
        _anchor = anchor;
    }
}